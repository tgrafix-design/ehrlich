<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
    <title>Erlich Project</title>
</head>
<body onClick="clearDialog()">
    <style>

    </style>

<div class="main">
    <header>
        <div class="left-nav">
            <ul>
                <li class="selected">Women</li>
                <li>Plus</li>
                <li>Men</li>
                <li>Accessories</li>
            </ul> 
        </div>
        <div class="logo">
            <a href="#"><img src="img/header-icons/logo.svg" alt="Threaded Fashion"></a>
        </div>
        <div class="right-nav">
            <ul>
                <li><img src="img/header-icons/user.svg" alt="User"></li>
                <li><img src="img/header-icons/shopping-bag.svg" alt="Shopping" onClick="showList()"></li>
                <li><img src="img/header-icons/heart.svg" alt="Favorites"></li>
                <li><img src="img/header-icons/support.svg" alt="Support"></li>
                <li><img src="img/header-icons/search.svg" alt="Search"></li>
            </ul> 
            <div class="currency">
                <select name="currency" id="currency">
                    <option value="us">USD $</option>
                    <option value="ph">PHP &#8369;</option>
                  </select>
            </div>
        </div>
    </header>

    <section class="benefits">
        <ul>
            <li class="crown"><a href="#">Exclusive Deals for VIP 2 and up!</a></li>
            <li class="star"><a href="#">Weekly News Arrivals</a></li>
            <li class="shipping"><a href="#">Free Shipping On Orders Over $100</a></li>
            <li class="pinmap"><a href="#">Track Your Order</a></li>
            <li class="shoptag"><a href="#">10% Off On Your First Order!</a></li>
        </ul>
   </section>

   <section class="hero-slider">
    <div>
        <button>Shop Now</button>
    </div>
    </section>
   <section class="site-wide-deals">
        <ul>
            <li><span>$5</span><em>off</em><p>on orders above $50</p></li>
            <li><span>$15</span><em>off</em><p>on orders above $75</p></li>
            <li><span>$20</span><em>off</em><p>on orders above $150</p></li>
            <li><span>$30</span><em>off</em><p>on orders above $200</p></li>
            <li><button>Check out all site wide deals</button></li>
        </ul>
   </section>

   <section class="vip-exclusive">
        <ul>
            <li><h2>Black Friday Exclusive</h2></li>
            <li><p>Free Shipping on all orders for <br />VIP 2 and up!</p></li>
            <li><button>Shop Now</button></li>
        </ul>
    </section>

    <section class="trending">
        <h2>Now Trending</h2>
        <p>See what everyone&lsquo;s wearing right now</p>
        <ul class="dress">
            <li><img src="img/trending/winter-fashion.jpg" alt="Winter Fashion"><p>Winter Fashion</p></li>
            <li><img src="img/trending/boots.jpg" alt="Boots"><p>Boots</p></li>
            <li><img src="img/trending/night-out.jpg" alt="Night Out"><p>Night Out</p></li>
            <li><img src="img/trending/holidays.jpg" alt="Holidays"><p>Holidays</p></li>
            <li><img src="img/trending/outerwear.jpg" alt="Outerwear"><p>Outerwear</p></li>
            <li><img src="img/trending/whitedresses.jpg" alt="White Dresses"><p>White Dresses</p></li>
            <li><img src="img/trending/sweaters.jpg" alt="Party"><p>Party</p></li>
            <li><img src="img/trending/party.jpg" alt="Party"><p>Party</p></li>
        </ul>

        <ul class="hashtag">
            <li><a href="#">#Thanksgiving</a></li>
            <li><a href="#">Thanksgiving</a></li>
            <li><a href="#">#NewYears</a></li>
            <li><a href="#">#Pajamas</a></li>
            <li><a href="#">#WFH</a></li>
            <li><a href="#">#FallFashion</a></li>
        </ul>
    </section>

    <section class="new-arrival">
        <ul>
            <li></li>
            <li>
                <h2>New<br />Arrival</h2>
                <p>Get ready for the holidays with us!</p>
                <button>Shop Now</button>
            </li>
        </ul>
    </section>

    <section class="recently-bought">
        <h2>Recently Bought</h2>
        <ul class="products">
            <li><img src="img/recently-bought/festive-looks-rust.jpg" alt="Festive Looks Rust Red Ribbed Velvet Long Sleeve Bodysuit"><p>Festive Looks Rust Red Ribbed Velvet Long Sleeve Bodysuit</p><p class="buy"><span>$38</span><button>Buy</button></p></li>
            <li><img src="img/recently-bought/chevron-flap-crossbody.jpg" alt="Chevron Flap Crossbody Bag"><p>Chevron Flap Crossbody Bag<br /> <br/></p><p class="sale buy"><span>$5.77<del>$7.35</del></span></p></li>
            <li><img src="img/recently-bought/manila-tan-multi-plaid.jpg" alt="Manila Tan Multi Plaid Oversized Fringe Scarf"><p>Manila Tan Multi Plaid Oversized Fringe Scarf</p><p class="sale buy"><span>$29<del>$39</del></span></p></li>
            <li><img src="img/recently-bought/diamante-puff-sleeve.jpg" alt="Diamante Puff Sleeve Dress - Black"><p>Diamante Puff Sleeve Dress - Black</p><p><span>$45.99</span></p></li>
            <li><img src="img/recently-bought/banneth-open-front.jpg" alt="Banneth Open Front Formal Dress in Black"><p>Banneth Open Front Formal Dress in Black</p><p class="sale"><span>$69<del>$99.95</del></span></p></li>
        </ul>
    </section>

    <section class="next-inspo">
        <h2>Your Next Inspo</h2>
        <p>Checkout who&lsquo;s wearing what by using #THREADEDInspo on Instagram</p>
        <div class="gallery">
            <img src="img/next-inspo/model1.jpg" alt="Model 1" />
            <img src="img/next-inspo/model2.jpg" alt="Model 2" />
            <img src="img/next-inspo/model3.jpg" alt="Model 3" />
            <img src="img/next-inspo/model4.jpg" alt="Model 4" />
            <img src="img/next-inspo/model5.jpg" alt="Model 5" /> 
        </div>
        <button>View All Posts</button>
    </section>

    <section class="newsletter-form">
        <form>
            <h2>Sign up for Exclusive deals and updates</h2>
            <span>
                <input type="text" name="email" placeholder="Your Email Address" />
                <button type="submit"><img src="img/form/right-outline.svg" /></button>
            </span>
        </form>
    </section>

    <footer>
        <div class="left-footer">
            <ul>
                <li><h5>Company Info</h5></li>
                <li><a href="#">About THREADED</a></li>
                <li><a href="#">Affiliate</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Careers</a></li>
            </ul>
            <ul>
                <li><h5>Help &amp; Support</h5></li>
                <li><a href="#">FAQ</a></li>
                <li><a href="#">Shipping</a></li>
                <li><a href="#">Returns</a></li>
                <li><a href="#">How to Order</a></li>
                <li><a href="#">How to Track</a></li>
            </ul>
            <ul>
                <li><h5>Customer Care</h5></li>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">Payment Methods</a></li>
            </ul>
        </div>
        <div class="right-footer">
            <ul>
                <li><h5>Follow Us</h5></li>
                <li>
                    <ul class="social">
                        <li><img src="img/footer-icons/social/facebook.svg" alt="Facebook" /></li>
                        <li><img src="img/footer-icons/social/instagram.svg" alt="Instagram" /></li>
                        <li><img src="img/footer-icons/social/twitter.svg" alt="Twitter" /></li>
                        <li><img src="img/footer-icons/social/youtube.svg" alt="Youtube" /></li>
                        <li><img src="img/footer-icons/social/pinterest.svg" alt="Pinterest" /></li>
                        <li><img src="img/footer-icons/social/tiktok.svg" alt="Tiktok" /></li>
                    </ul>
                </li>
                <li><h5>We Accept</h5></li>
                <li>
                    <ul class="payment">
                        <li><img src="img/footer-icons/payment/visa.jpg" alt="Visa" /></li>
                        <li><img src="img/footer-icons/payment/mastercard.jpg" alt="Mastercard" /></li>
                        <li><img src="img/footer-icons/payment/maestro.jpg" alt="Maestro" /></li>
                        <li><img src="img/footer-icons/payment/american-express.jpg" alt="American Express" /></li>
                        <li><img src="img/footer-icons/payment/paypal.jpg" alt="Paypal" /></li>
                    </ul>
                </li>
            </ul>
        </div>
    </footer>

    <div class="footer-rights">
        <p>&copy;2021 THREADED All Rights Reserved</p>
        <a href="#"><img src="img/header-icons/logo.svg" alt="Threaded Fashion"></a>
    </div>

<style>
    .buy {
        display: flex;
        justify-content: space-between;
    }

    .hide {
        display: none;
    }

    #product-dialog {
        width: 400px;
        position: absolute;
        top: 60px;
        right: 0;
        background-color: #ffffff;
        padding: 20px;
        -webkit-box-shadow: 4px 4px 13px 0px rgba(0,0,0,0.44);
        -moz-box-shadow: 4px 4px 13px 0px rgba(0,0,0,0.44);
        box-shadow: 4px 4px 13px 0px rgba(0,0,0,0.44);
    }

    #product-dialog h5 {
        display: flex;
        justify-content: space-between;
        font-weight: 6000;
        font-size: 12px;
        margin-top: 20px;
    }

    #product-dialog .product-list {
        border-top: 1px solid #333333;
        border-bottom: 1px solid #333333;
        padding: 20px;
        margin: 10px 0;
    }

    #product-dialog .product-details {
        display: flex;
        margin-bottom: 10px;
    }

    #product-dialog .product-details img {
        width: 30%;
        margin-right: 10px;
    }

    #product-dialog .product-details .product-note { 
        font-size: 12px;
        font-weight: 600;
        background-color: #fdebeb;
        border-radius: 8px;
        padding: 8px;
    }

    #product-dialog .product-details .product-name { 
        font-size: 14px;
        font-weight: 800;
        padding: 8px 0;
    }

    #product-dialog .product-details .product-description { 
        font-size: 14px;
        font-weight: 400;
        padding: 8px 0;
    }

    #product-dialog .product-details .product-styleno { 
        font-size: 12px;
        font-weight: 400;
        padding: 8px 0;
    }

    #product-dialog .payment {
        display: flex;
        margin-top: 10px;
    }

    #product-dialog .payment img {
        width: 37.5px;
        cursor: pointer;
        border: 1px solid #cccccc;
        margin-right: 10px;
    }
</style>
    <div id="product-dialog" class="hide">
        <h3>Shopping Bag (<span class="productNumber"></span>)</h3>
        <h5><span>ITEM</span><span>PRICE</span></h5>

        <div class="product-list"></div>
        <p>Free Shipping on orders of US$100 or more<br />30 day price match guarantee</p>
        <ul class="payment">
            <li><img src="img/footer-icons/payment/visa.jpg" alt="Visa" /></li>
            <li><img src="img/footer-icons/payment/mastercard.jpg" alt="Mastercard" /></li>
            <li><img src="img/footer-icons/payment/maestro.jpg" alt="Maestro" /></li>
            <li><img src="img/footer-icons/payment/american-express.jpg" alt="American Express" /></li>
            <li><img src="img/footer-icons/payment/paypal.jpg" alt="Paypal" /></li>
        </ul>
    </div>

    <script>
        let productDialog = document.querySelector("#product-dialog")
        let productList = document.querySelector(".product-list")
        productList.innerHTML="No Product Selected"

        let products = document.querySelector(".products")
            products.innerHTML = ""
            console.log(products)

        let productArrayID=[]
        let productArray=[]

        const fetchUser = async () => {
            try {
                const response = await fetch('js/data.json')
                const result = await response.json()

                result.forEach((e) => {
                    productArray.push(e)

                    let status = "buy"
                    let price = `${e.orig_price}`
                    if (e.sale_price) { 
                        status = "buy sale"
                        price = `${e.sale_price}<del>${e.orig_price}</del>`
                    }
                    products.innerHTML =  `${products.innerHTML}<li><img src="img/recently-bought/${e.photo}" alt="${e.description}"><p>${e.description}</p><p class="${status}"><span>${price}</span><button onClick="buyProduct(${e.id})">Buy</button></p></li>`
                })
            } catch(error) {
                console.log(error)
            }
        }

        const buyProduct = (id) => {
            if(productArrayID.indexOf(id) === -1) {
                productArrayID.push(id);
                // console.log(productArrayID);
            }
        }

        const showList = () => {
            productDialog.classList.toggle("hide");
            if (productArrayID.length == 0) { 
                productList.innerHTML="No Product Selected"
                return
            }
            productList.innerHTML=""
            console.log(productArray)
            productArrayID.forEach((productID) => {
                const product = productArray.find((el) => el.id == productID);

                // console.log(productArray)
                // console.log(productID)
                console.log(product)
                productList.innerHTML += `
                <div class="product-details">
                <img src='img/recently-bought/${product.photo}' alt="${product.description}">
                    <div>
                        <p class="product-note">${product.note}</p>
                        <p class="product-name">${product.product_name}</p>
                        <p class="product-description">${product.description}</p>
                        <p class="product-size">Size: ${product.size}</p>
                        <p class="product-color">Color: ${product.color}</p>
                        <p class="product-styleno">Style: ${product.styleno}</p>
                        <button onClick="deleteItem(${productID})">Remove</button>
                    </div>
                </div>`
            })
        }

        const deleteItem = (id) => {
            productArrayID = productArrayID.filter((arrayID) => arrayID !== id)
            showList()
        }

        const clearDialog = (() =>{

        })

        fetchUser()

    </script>
</body>
</html>

